// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource mysql {
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
  provider          = "mysql"
}

generator client {
  provider = "prisma-client-js"
}

model Cliente {
  id        String    @id @default(cuid())
  name      String    @default("")
  fotos     Foto[]    @relation("Foto_cliente")
  createdAt DateTime? @default(now())
}

model User {
  id        String    @id @default(cuid())
  name      String    @default("")
  email     String    @unique @default("")
  password  String
  createdAt DateTime? @default(now())
}

model Grupo {
  id        String    @id @default(cuid())
  nome      String    @default("")
  createdAt DateTime? @default(now())
  produtos  Produto[] @relation("Produto_grupo")
  destaque  Boolean   @default(false)
}

model Produto {
  id        String    @id @default(cuid())
  nome      String    @default("")
  descricao String    @default("")
  createdAt DateTime? @default(now())
  fotos     Foto[]    @relation("Foto_produto")
  grupo     Grupo?    @relation("Produto_grupo", fields: [grupoId], references: [id])
  grupoId   String?   @map("grupo")

  @@index([grupoId])
}

model Foto {
  id               String    @id @default(cuid())
  nome             String    @default("")
  descricao        String    @default("")
  createdAt        DateTime? @default(now())
  cliente          Cliente?  @relation("Foto_cliente", fields: [clienteId], references: [id])
  clienteId        String?   @map("cliente")
  produto          Produto?  @relation("Foto_produto", fields: [produtoId], references: [id])
  produtoId        String?   @map("produto")
  imagem_id        String?
  imagem_filesize  Int?
  imagem_width     Int?
  imagem_height    Int?
  imagem_extension String?

  @@index([clienteId])
  @@index([produtoId])
}
